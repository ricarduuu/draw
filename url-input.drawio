<mxfile host="app.diagrams.net" modified="2020-06-12T09:03:19.961Z" agent="5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.97 Safari/537.36" etag="gdA51tagVh62d-iFsAeK" version="13.2.1" type="github">
  <diagram id="yM2oXQm_O7SmmgI67K22" name="Page-1">
    <mxGraphModel dx="946" dy="1782" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="I5RekTO_njov9tj_KEtV-1" value="url&lt;br&gt;" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="20" y="520" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-1" value="渲染进程" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="290" y="820" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-2" value="网络进程" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="290" y="520" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-3" value="浏览器进程" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="290" y="200" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-4" value="" style="endArrow=classic;startArrow=classic;html=1;exitX=0.933;exitY=0.4;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="XSZjby6xiS5L8jVtObux-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="480" y="560" as="sourcePoint" />
            <mxPoint x="670" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-5" value="发起url请求" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="485" y="490" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-6" value="解析相映数据" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="505" y="540" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-7" value="" style="endArrow=classic;html=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="480" y="560" as="sourcePoint" />
            <mxPoint x="360" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-8" value="解析完数据发送给浏览器" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="344" y="331" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-9" value="" style="curved=1;endArrow=classic;html=1;exitX=0.16;exitY=0.55;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.167;entryY=0.25;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="XSZjby6xiS5L8jVtObux-3" target="XSZjby6xiS5L8jVtObux-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="200" y="620" as="sourcePoint" />
            <mxPoint x="270" y="760" as="targetPoint" />
            <Array as="points">
              <mxPoint x="250" y="620" />
              <mxPoint x="200" y="640" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-10" value="通知渲染进程" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="144" y="703" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-11" value="" style="endArrow=classic;startArrow=classic;html=1;exitX=0.625;exitY=0.2;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.55;entryY=0.95;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="XSZjby6xiS5L8jVtObux-1" target="XSZjby6xiS5L8jVtObux-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="460" y="620" as="sourcePoint" />
            <mxPoint x="510" y="570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-12" value="收到消息后建立数据通道" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="294" y="694" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-13" value="" style="curved=1;endArrow=classic;html=1;exitX=0.07;exitY=0.4;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.07;entryY=0.4;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="XSZjby6xiS5L8jVtObux-1" target="XSZjby6xiS5L8jVtObux-3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="170" y="840" as="sourcePoint" />
            <mxPoint x="210" y="380" as="targetPoint" />
            <Array as="points">
              <mxPoint x="220" y="840" />
              <mxPoint x="170" y="790" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-14" value="接收数据后&lt;br&gt;向浏览器提交状态&lt;br&gt;通知其更新页面" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="160" y="436" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-15" value="data" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="660" y="430" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-16" value="用户输入url" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="960" y="10" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-17" value="&lt;h1&gt;&lt;font style=&quot;font-size: 12px ; font-weight: normal&quot;&gt;浏览器会判断用户的输入是搜索的关键字还是url&lt;br&gt;如果是关键字会生成新的url&lt;br&gt;浏览器进程通过进程间的ipc通信 发送给网络进程&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;/h1&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1167" y="-50" width="190" height="120" as="geometry" />
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-18" value="url的请求过程" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="960" y="150" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-20" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="XSZjby6xiS5L8jVtObux-18" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1290" y="220" as="sourcePoint" />
            <mxPoint x="1420" y="170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-21" value="dns解析找到对应的ip地址" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="XSZjby6xiS5L8jVtObux-20" vertex="1" connectable="0">
          <mxGeometry x="-0.5432" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-22" value="" style="endArrow=none;dashed=1;html=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1380" y="170" as="sourcePoint" />
            <mxPoint x="1430" y="120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-23" value="https需要建立tls 链接" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="1357" y="91" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-26" value="" style="curved=1;endArrow=classic;html=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1420" y="171" as="sourcePoint" />
            <mxPoint x="1610" y="111" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1500" y="171" />
              <mxPoint x="1450" y="121" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-27" value="" style="curved=1;endArrow=classic;html=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1420" y="170" as="sourcePoint" />
            <mxPoint x="1600" y="180" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1490" y="200" />
              <mxPoint x="1550" y="210" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-29" value="&lt;h1&gt;&lt;font style=&quot;font-size: 12px ; font-weight: normal&quot;&gt;反向代理，会和客户端保持长链接，和服务器请求完后，会将数据存储在本地，以便快速的相映请求，减少服务器压力&lt;/font&gt;&lt;/h1&gt;" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=1;perimeterSpacing=0;strokeWidth=1;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="1630" width="190" height="120" as="geometry" />
        </mxCell>
        <mxCell id="XSZjby6xiS5L8jVtObux-30" value="&lt;h1&gt;&lt;span style=&quot;font-size: 12px ; font-weight: 400&quot;&gt;正向代理，隐藏真实请求地址，&lt;br&gt;通过可以访问的地址进行代理请求，内网、vpn什么的&lt;/span&gt;&lt;/h1&gt;" style="text;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=1;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="1630" y="140" width="190" height="120" as="geometry" />
        </mxCell>
        <mxCell id="kqcP2ugyUGZE8lOFCLyX-1" value="渲染进程" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="960" y="291" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kqcP2ugyUGZE8lOFCLyX-3" value="默认情况下一个页面会有一个渲染进程&lt;br&gt;&lt;br&gt;如果在当前页面打开的新页面，属于同样的协议和主域名下，那他们&lt;br&gt;也会在一个渲染进程内&lt;br&gt;&lt;br&gt;单独打开的页面即使符合上一条域名规则，也不会处于上一个渲染进程内" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1130" y="231" width="190" height="139" as="geometry" />
        </mxCell>
        <mxCell id="kqcP2ugyUGZE8lOFCLyX-4" value="提交文档" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="960" y="396" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kqcP2ugyUGZE8lOFCLyX-5" value="" style="curved=1;endArrow=classic;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;" parent="1" source="kqcP2ugyUGZE8lOFCLyX-6" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1320" y="450" as="sourcePoint" />
            <mxPoint x="1510" y="390" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1370" y="450" />
              <mxPoint x="1320" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kqcP2ugyUGZE8lOFCLyX-6" value="&lt;font style=&quot;font-size: 12px&quot;&gt;所谓提交文档就是，浏览器将&lt;br&gt;&lt;span style=&quot;color: rgb(51 , 51 , 51) ; font-family: &amp;#34;pingfang sc&amp;#34; , &amp;#34;lantinghei sc&amp;#34; , &amp;#34;microsoft yahei&amp;#34; , &amp;#34;hiragino sans gb&amp;#34; , &amp;#34;microsoft sans serif&amp;#34; , &amp;#34;wenquanyi micro hei&amp;#34; , &amp;#34;helvetica&amp;#34; , sans-serif ; background-color: rgb(255 , 255 , 255)&quot;&gt;网络进程接收到的 HTML 数据提交给渲染进程&lt;br&gt;&lt;br&gt;发生在浏览器收到响应头的时候&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="1110" y="421" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kqcP2ugyUGZE8lOFCLyX-8" value="" style="curved=1;endArrow=classic;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;" parent="1" source="kqcP2ugyUGZE8lOFCLyX-4" target="kqcP2ugyUGZE8lOFCLyX-6" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1080" y="406" as="sourcePoint" />
            <mxPoint x="1370" y="400" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kqcP2ugyUGZE8lOFCLyX-9" value="&lt;font style=&quot;font-size: 12px ; background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;1、 渲染进程=》网络进程建立管道&lt;br&gt;&lt;br&gt;2、 渲染进程提交消息&lt;br&gt;&lt;br&gt;3、 浏览器进程更新url,&lt;span style=&quot;font-family: &amp;#34;pingfang sc&amp;#34; , &amp;#34;lantinghei sc&amp;#34; , &amp;#34;microsoft yahei&amp;#34; , &amp;#34;hiragino sans gb&amp;#34; , &amp;#34;microsoft sans serif&amp;#34; , &amp;#34;wenquanyi micro hei&amp;#34; , &amp;#34;helvetica&amp;#34; , sans-serif&quot;&gt;前进后退的历史状态，并更新 Web 页面、安全状态&lt;br&gt;&lt;br&gt;此处也就解释了，为什么浏览器在请求的时候还会保持上一个页面的状态&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=1;fontColor=#333333;dashed=1;dashPattern=1 1;" parent="1" vertex="1">
          <mxGeometry x="1530" y="276" width="190" height="210" as="geometry" />
        </mxCell>
        <mxCell id="kqcP2ugyUGZE8lOFCLyX-10" value="渲染阶段" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="960" y="530" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="pXlMRnycXGwZLFhT4umu-1" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;size=0;" vertex="1" parent="1">
          <mxGeometry x="1130" y="530" width="20" height="980" as="geometry" />
        </mxCell>
        <mxCell id="pXlMRnycXGwZLFhT4umu-3" value="dom树解析" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1180" y="567" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="pXlMRnycXGwZLFhT4umu-4" value="css树解析" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1181" y="723" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="pXlMRnycXGwZLFhT4umu-5" value="布局阶段" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1167" y="970" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="pXlMRnycXGwZLFhT4umu-7" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="1310" y="680.5" width="20" height="120" as="geometry" />
        </mxCell>
        <mxCell id="pXlMRnycXGwZLFhT4umu-8" value="css----&amp;gt;styleSheet" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1357" y="660" width="120" height="26" as="geometry" />
        </mxCell>
        <mxCell id="pXlMRnycXGwZLFhT4umu-9" value="属性值标准化" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1357" y="732" width="120" height="26" as="geometry" />
        </mxCell>
        <mxCell id="pXlMRnycXGwZLFhT4umu-10" value="blue --&amp;gt;&amp;nbsp; &amp;nbsp;rgb&lt;br&gt;em----&amp;gt; px&lt;br&gt;bold -----&amp;gt; 700" style="shape=dataStorage;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1670" y="652" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="pXlMRnycXGwZLFhT4umu-13" value="计算dom树每个节点的样式" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1357" y="785" width="120" height="26" as="geometry" />
        </mxCell>
        <mxCell id="pXlMRnycXGwZLFhT4umu-14" value="css继承、优先级&lt;br&gt;css层叠样式" style="shape=dataStorage;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1654" y="770" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="pXlMRnycXGwZLFhT4umu-15" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="1290" y="870" width="20" height="310" as="geometry" />
        </mxCell>
        <mxCell id="pXlMRnycXGwZLFhT4umu-17" value="创建布局树" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1340" y="920" width="120" height="26" as="geometry" />
        </mxCell>
        <mxCell id="pXlMRnycXGwZLFhT4umu-18" value="&lt;h1 style=&quot;font-size: 12px&quot;&gt;不可见的节点不会出现在布局树中&lt;br&gt;类似 head display:none&lt;/h1&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1570" y="909.5" width="190" height="47" as="geometry" />
        </mxCell>
        <mxCell id="pXlMRnycXGwZLFhT4umu-19" value="布局计算" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1350" y="1110" width="120" height="26" as="geometry" />
        </mxCell>
        <mxCell id="pXlMRnycXGwZLFhT4umu-21" value="&lt;h1 style=&quot;font-size: 12px&quot;&gt;计算布局树各个节点的坐标&lt;br&gt;结合位置信息&lt;/h1&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1560" y="1099.5" width="190" height="47" as="geometry" />
        </mxCell>
        <mxCell id="pXlMRnycXGwZLFhT4umu-22" value="分层" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1165" y="1330" width="120" height="35" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
